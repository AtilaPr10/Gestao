<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      template="/WEB-INF/templates/Layout.xhtml">
    <h:head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    
   <ui:define name="content">
		<h1 class="aw-page-title">Selecione o Fornecedor</h1>
    
  <h:body>
    
         <h:form id="frm_sel_cli">
           <p:messages autoUpdate="true" />          
           <div class="ui-fluid">
                      <p:panelGrid id="capaPanel" columns="3" layout="grid"
                               style="margin-top: 20px; margin-bottom: 40px"
			                   styleClass="panelgrid-noborder"
			                   columnClasses="ui-grid-col-2, ui-grid-col-4,
                               ui-grid-col-2, ui-grid-col-4">
                               
                       <p:outputLabel value="Tipo de Pessoa"/>
                       <p:outputLabel value="CPF/CNPJ" for="cnpj_cpf" />
                       <p:outputLabel/>
                      
						    
                        <p:selectOneMenu id="tipo" >
                               <f:selectItem id="PJ"	
                                   itemValue="JURIDICA" itemLabel="JURIDICA">
                                     
                               </f:selectItem>
                               <f:selectItem id="PF"  
                                    itemValue="FISICA" itemLabel="FISICA"></f:selectItem>
                                    <p:ajax  listener="#{facesUtils.mudaMascara}"  
                                     update="cnpj_cpf"></p:ajax>
                         </p:selectOneMenu>         
                               
                     	<p:inputMask id="cnpj_cpf" value="#{controllerFornecedor.cpf_cnpj}"
						         required="true"
						         requiredMessage="Digite um cpf/cnpj"
						         placeholder="CPF ou CNPJ"
						         mask="#{facesUtils.mask}" />
						         
						 <p:commandButton icon="ui-icon-search" id="btn_sel_for"
						    action = "#{controllerFornecedor.listarFornecedor}" update="@form">
						    <p:tooltip value="Clique aqui" onShow="true" for="btn_sel_for"></p:tooltip>
						 </p:commandButton>   
					 </p:panelGrid>
				    
				    
				 
                  	
						<!-- TABELA DE FORNECEDORES -->
						   <p:dataTable id="clientesTable" 
                    	     value="#{controllerFornecedor.pessoas}" 
				             var="forn"
		             		 emptyMessage="Nenhum Fornecedor encontrado."
				             reflow="true"
				             style="margin-top: 50px"
				             paginator="true" 
				             resizableColumns="true"
				             paginatorAlwaysVisible="false" paginatorPosition="bottom">
				
			    	        <p:column headerText="Nome">
				     	          <p:outputLabel value="#{forn.nome}"/>
				            </p:column>
				            
	                        <p:column headerText="CNPJ">
				            	  <p:outputLabel value="#{forn.cpf_cnpj}"/>
				            </p:column>
				            <p:column headerText="Logradouro">
				            	  <p:outputLabel value="#{forn.logradouro}"/>
				            </p:column>
				            <p:column headerText="NÂº">
				            	  <p:outputLabel value="#{forn.numero}"/>
				            </p:column>
				             <p:column headerText="Cidade">
				            	  <p:outputLabel value="#{forn.cidade}"/>
				            </p:column>
				             <p:column headerText="Estado">
				            	  <p:outputLabel value="#{forn.estado}"/>
				            </p:column>		
				              <p:column headerText="Email">
				            	  <p:outputLabel value="#{forn.email}"/>
				            </p:column>				            
				            <p:column style="width: 30px; text-align: center">
				            	  <p:commandLink  value="Editar"
				            	          action="edit_fornecedor.xhtml"
				            	          actionListener="#{controllerEditFornecedor.editar}">
				            	          <f:param name="objeto" id="objeto"  value="#{forn}"/> 
				            	         
				            	  
				            	  </p:commandLink> 
				             </p:column>
			
			             </p:dataTable>
						
					
				
                   
                   
                   
         </div>
       
       
       
       
       
       </h:form>
    
    </h:body>
   
   </ui:define>
   </ui:composition>
    


